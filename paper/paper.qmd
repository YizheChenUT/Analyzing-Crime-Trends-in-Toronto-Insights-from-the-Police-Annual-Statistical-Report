---
title: "Analyzing Crime Trends in Toronto: Insights from the Police Annual Statistical Report"
# subtitle:
author: 
  - Yizhe Chen
thanks: "Code and data are available at: https://github.com/YizheChenUT/STA304TermPaper1.git"
date: today
date-format: long
abstract: "This paper analyzes crime trends in Toronto using the Police Annual Statistical Report from 2014 to 2023. Data from Open Data Toronto is used to evaluate crime distributions across different categories and regions. Analysis reveals that some areas, particularly in divisions such as D13 and D32, report the highest number of property-related crimes like auto theft. Suburban areas also illustrate rising trends in specific crime subtypes. These findings can help optimize policing strategies and public safety resource allocations."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(palmerpenguins)
```


# Introduction
Crime and public safety are critical concerns for urban environments like Toronto. Understanding the nature and distribution of crimes helps policymakers and law enforcement agencies allocate resources and develop effective crime prevention strategies. This paper examines Torontoâ€™s crime patterns over the past decade, using the Toronto Police Annual Statistical Report to evaluate different types of crimes across the city's divisions [@OpenDataDataset].

Our analysis covers from 2014 to 2023 and focuses on two main crime categories: Crimes Against Property and Crimes Against the Person. We explore how incidents vary by division and examine clearance rates (resolved cases) to evaluate the effectiveness of law enforcement strategies. By highlighting regional crime trends, this paper provides insights into public safety concerns that can shape future policies.

# Data {#sec-data}
The data used in this analysis was obtained from the Open Data Toronto portal [@OpenDataDataset]. The data set includes reported incidents categorized by type, division, and year, covering the period from 2014 to 2023. 

## Reported Crimes Dataset
The dataset includes multiple fields related to crime, such as:
1. **Crime Category**: Broad crime categories like "Crimes Against Property" and "Crimes Against the Person".
2. **Crime Subtype**: Specific types of crimes (e.g., "Auto Theft", "Break & Enter").
3. **Division**: The Toronto Police divisions where crimes occurred.
4. **Incidents Reported**: The total number of reported incidents.
5. **Incidents Cleared**: The number of resolved cases.

## Data Cleaning and Transformation
The data was cleaned by removing duplicates and correcting data entry errors. Special attention was given to divisions with high and low crime rates, as well as to the clearance rate, which reflects how effectively crimes were resolved by the law enforcement.

# Results




# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)

first_model <-
  readRDS(file = here::here("models/first_model.rds"))
```

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false

modelsummary::modelsummary(
  list(
    "First model" = first_model
  ),
  statistic = "mad",
  fmt = 2
)
```




# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 2
#| fig-cap: "Examining how the model fits, and is affected by, the data"
#| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"]

pp_check(first_model) +
  theme_classic() +
  theme(legend.position = "bottom")

posterior_vs_prior(first_model) +
  theme_minimal() +
  scale_color_brewer(palette = "Set1") +
  theme(legend.position = "bottom") +
  coord_flip()
```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2

plot(first_model, "trace")

plot(first_model, "rhat")
```



\newpage


# References


